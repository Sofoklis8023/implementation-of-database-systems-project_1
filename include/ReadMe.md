Αρχικά υλοποιήσαμε τρείς δικές μας συναρτήσεις για την απλούστευση του κώδικα μας:

HP_info* get_first_block(int file_desc);
    Η συγκεκριμένη συνάρτηση επιστρέφει το HP_info το οποίο είναι το πρώτο μπλόκ στο οποίο εμπεριέχονται τα μεταδεδομένα του αρχείου.

int Create_Block_and_insert(int file_desc,Record record,int blocks_num);
    Η συγκεκριμένη συνάρτηση δημιουργεί ένα νέο μπλόκ και εισάγει μια νέα εγγραφή σε αυτό.

void Insert_on_excisted_block(int file_desc,Record record,BF_Block *block,HP_block_info *info); 
    Η συγκεκριμένη συνάρτηση εισάγει μια εγγραφή σε ένα ήδη υπάρχων μπλόκ.


'Υστερα υλοποιήσαμε τις συναρτήσεις που ζητήθηκαν:

int HP_CreateFile(char *fileName);
    Με την χρήση των BF συναρτήσεων δημιουργόυμε ένα αρχείο άδειου σωρού και έπειτα αρχικοποιούμε το πρώτο μπλόκ με τα μεταδεδομένα του.

HP_info* HP_OpenFile(char *fileName,int *file_desc);
    Ανοίγουμε το αρχείο με την BF_OPEN() και επιστρέφουμε το HP_info με την συνάρτηση get_first_block() που έχουμε υλοποιήσει εμείς.

int HP_CloseFile(int file_desc, HP_info* header_info);
    Με χρήση των BF συναρτήσεων κάνουμε unpin όλα τα μπλόκς και στην συνέχεια κλείνουμε το αρχείο.

int HP_InsertEntry(int file_desc, HP_info* header_info, Record record);
    Διακρίνουμε δύο περιπτώσεις:
    1.Περίπτωση που στο αρχείο υπάρχει μόνο το πρώτο μπλόκ που περιέχει μεταδεδομένα.
        Δημιουργόυμε ένα μπλόκ και εισάγουμε μια εγγραφή σε αυτό με την συνάρτηση Create_Block_and_insert() που έχουμε υλοποιήσει εμείς.
    2.Άν έχουμε τουλάχιστον ένα μπλόκ που περιέχει τουλάχιστον μια εγγραφή διακρίνουμε ακόμα δύο περιπτώσεις:
        α.Περίπτωση που η εγγραφή δεν χωράει στο μπλόκ (δημιουργία νέου και εισαγωγή σε αυτο) με την συνάρτηση Create_Block_and_insert() που έχουμε     υλοποιήσει εμείς.
        β.Περίπτωση που η εγγραφή χωράει στο μπλόκ, κλήση της Insert_on_excisted_block() που έχουμε υλοποιήσει εμείς.

int HP_GetAllEntries(int file_desc, HP_info* header_info, int value);
    Με την χρήση των BF συναρτήσεων προσπερνάμε όλα τα μπλόκ μέχρι να βρεθεί αυτό που ψάχνουμε, τότε επιστρέφουμε τον αριθμό των μπλόκ που διαβάστηκαν.



    
        

